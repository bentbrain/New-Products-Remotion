"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.bundleCommand = void 0;
const get_cli_options_1 = require("./get-cli-options");
const initialize_render_cli_1 = require("./initialize-render-cli");
const log_1 = require("./log");
const parse_command_line_1 = require("./parse-command-line");
const prepare_entry_point_1 = require("./prepare-entry-point");
const bundleCommand = async () => {
    const file = parse_command_line_1.parsedCli._[1];
    if (!file) {
        log_1.Log.error('No entry point specified. Pass more arguments:');
        log_1.Log.error('   npx remotion bundle [entry-point]');
        log_1.Log.error('Documentation: https://www.remotion.dev/docs/render');
        process.exit(1);
    }
    await (0, initialize_render_cli_1.initializeRenderCli)('bundle');
    const { publicPath, bundleOutDir } = await (0, get_cli_options_1.getCliOptions)({
        isLambda: false,
        type: 'get-compositions-or-bundle',
    });
    const { urlOrBundle } = await (0, prepare_entry_point_1.prepareEntryPoint)({
        file,
        otherSteps: [],
        outDir: bundleOutDir,
        publicPath,
    });
    log_1.Log.info();
    log_1.Log.info(urlOrBundle);
};
exports.bundleCommand = bundleCommand;
