"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.makeMultiDownloadProgress = void 0;
const make_progress_bar_1 = require("./make-progress-bar");
const makeMultiDownloadProgress = (progresses) => {
    if (progresses.length === 0) {
        return null;
    }
    if (progresses.length === 1) {
        const [progress] = progresses;
        const truncatedFileName = progress.name.length >= 100
            ? progress.name.substring(0, 97) + '...'
            : progress.name;
        return [
            `    +`,
            (0, make_progress_bar_1.makeProgressBar)(progress.progress),
            `Downloading ${truncatedFileName}`,
        ].join(' ');
    }
    return [
        `    +`,
        (0, make_progress_bar_1.makeProgressBar)(progresses.reduce((a, b) => a + b.progress, 0) / progresses.length),
        `Downloading ${progresses.length} files`,
    ].join(' ');
};
exports.makeMultiDownloadProgress = makeMultiDownloadProgress;
